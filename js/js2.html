<head>

<script>
compteur=0;
function traiter() {
	console.log("traiter : " + ++compteur); 
}
function poursuivre() {
	if (compteur<=5) return true;
	else return false;
}
boucle(5,traiter,poursuivre); 
boucle(2,traiter2); 

/* 
// Ne fonctionne que Pour une seule boucle à la fois 
// car on utilise des var. globales !! 
var g_iPeriode;
var g_fnCbTraitement;
var g_fnCbContinuer;
function boucle(iPeriode,fnCbTraitement,fnCbContinuer) {

	if (iPeriode != undefined) {
		// premiere fois : on stocke les arguments en var. globales 
		g_iPeriode = iPeriode; 
		g_fnCbTraitement = fnCbTraitement;
		g_fnCbContinuer = fnCbContinuer;
	}

	if (g_fnCbContinuer()) {
		g_fnCbTraitement();
		setTimeout(boucle, g_iPeriode*1000);
	}

	// Objectif : déclencher un appel à la fonction fnCbTraitement
	// toutes les iPeriode secondes, 
	// tant que fnCbContinuer renvoie vrai
	
	// OBLIGATION d'utiliser window.setTimeout
	// IL FAUT POUVOIR DECLENCHER PLUSIEURS BOUCLES en parallèle 
	// => impossible de stocker de l'information en var. globale 
	// INTERDICTION d'utiliser les arguments optionnels de setTimeout
	// setTimeout(functionRef, delay) seulement 

	// fnCbTraitement est une fonction de rappel ("CALLBACK")
	// elle sera appelée plus tard
	// pour l'appeler, il suffit d'ajouter les parenthèses !

	// rendre le 3ème argument optionnel

}
*/

</script>
</head>
<body>


</body>










